<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>White Label Engine (Clean)</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">

    <style>
        :root {
            /* Variables */
            --c-admin-accent: #FF79C9; 
            --c-brand-primary: #00E5FF; 
            --bg-admin: #1A1A1A;
            --bg-preview: #121212;
            --bg-input: #252525;
            --text-main: #FFFFFF;
            --text-muted: #888888;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            /* TRANSPARENT & OBEN LINKS AUSGERICHTET */
            background-color: transparent;
            margin: 0;
            padding: 0;
            /* Feste Größe definiert den Frame */
            width: 950px; 
            height: 600px;
            overflow: hidden;
        }

        /* --- WIDGET CONTAINER --- */
        .theming-console {
            position: relative; 
            width: 950px; height: 600px;
            background: var(--bg-admin);
            border-radius: 16px;
            /* KEIN SCHATTEN, STÄRKERE KANTE */
            border: 1px solid rgba(255,255,255,0.15);
            display: grid;
            grid-template-columns: 320px 1fr;
            overflow: hidden;
            animation: popIn 0.7s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes popIn {
            from { transform: scale(0.98); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* --- LEFT: CONFIGURATOR --- */
        .config-panel {
            padding: 30px;
            border-right: 1px solid rgba(255,255,255,0.05);
            display: flex; flex-direction: column; gap: 24px;
        }

        .panel-header {
            font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px;
            color: var(--c-admin-accent); margin-bottom: 10px;
            display: flex; align-items: center; gap: 8px;
        }
        .panel-header::before { content: ''; width: 8px; height: 8px; background: var(--c-admin-accent); border-radius: 50%; }

        .form-group { display: flex; flex-direction: column; gap: 8px; }
        .label { font-size: 11px; color: var(--text-muted); font-weight: 500; }
        
        .input-field {
            background: var(--bg-input); border: 1px solid #333; border-radius: 6px;
            padding: 10px 12px; color: var(--text-main); font-size: 13px; font-family: 'Inter', sans-serif;
            transition: border-color 0.2s;
        }
        .input-field:focus { outline: none; border-color: var(--c-admin-accent); }

        .color-picker-row {
            display: flex; align-items: center; gap: 12px;
            background: var(--bg-input); border: 1px solid #333; border-radius: 6px; padding: 8px;
        }
        input[type="color"] {
            appearance: none; -webkit-appearance: none; border: none; width: 24px; height: 24px; padding: 0;
            overflow: hidden; background: none; cursor: pointer;
        }
        input[type="color"]::-webkit-color-swatch {
            border: 2px solid #fff; border-radius: 50%;
            box-shadow: 0 0 10px var(--c-brand-primary);
        }
        .hex-input {
            background: transparent; border: none; color: var(--text-main);
            font-family: 'JetBrains Mono'; font-size: 12px; text-transform: uppercase; width: 100%; outline: none;
        }

        .dropzone {
            border: 1px dashed #444; background: rgba(255,255,255,0.02);
            border-radius: 6px; height: 80px;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            color: var(--text-muted); font-size: 12px; cursor: pointer; transition: all 0.2s;
        }
        .dropzone:hover { background: rgba(255,255,255,0.05); border-color: var(--c-admin-accent); }
        #logoUploadInput { display: none; }

        .file-badge {
            background: #333; padding: 4px 8px; border-radius: 4px; color: #fff; 
            display: flex; align-items: center; gap: 6px; pointer-events: none;
        }
        .badge-icon { width: 12px; height: 12px; object-fit: contain; }

        /* --- RIGHT: PREVIEW --- */
        .preview-panel {
            background-color: var(--bg-preview); padding: 40px;
            display: flex; justify-content: center; align-items: center; position: relative;
            background-image: radial-gradient(circle at 50% 50%, rgba(30,30,30,1) 0%, rgba(18,18,18,1) 100%);
        }

        .browser-window {
            width: 100%; height: 100%; background: #000;
            border-radius: 12px; border: 1px solid #333;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            display: flex; flex-direction: column; overflow: hidden;
        }

        .browser-bar {
            height: 36px; background: #1a1a1a; border-bottom: 1px solid #333;
            display: flex; align-items: center; padding: 0 16px; gap: 8px;
        }
        .dot { width: 10px; height: 10px; border-radius: 50%; background: #444; }
        .dot.red { background: #FF5F56; } .dot.yellow { background: #FFBD2E; } .dot.green { background: #27C93F; }

        .preview-content {
            flex: 1; padding: 24px; display: flex; flex-direction: column; gap: 24px;
        }

        .preview-nav {
            display: flex; justify-content: space-between; align-items: center;
            padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .brand-logo {
            font-size: 18px; font-weight: 800; letter-spacing: -0.5px;
            color: var(--text-main); display: flex; align-items: center; gap: 8px;
            text-transform: uppercase;
        }
        .brand-icon { 
            color: var(--c-brand-primary); transition: color 0.2s; 
            height: 24px; width: auto; object-fit: contain; display: block;
        }
        
        .nav-links { display: flex; gap: 20px; font-size: 13px; color: var(--text-muted); cursor: pointer; }
        .nav-link:hover { color: #fff; }
        .nav-link.active { color: var(--c-brand-primary); font-weight: 600; transition: color 0.2s; }

        /* --- PAGES SYSTEM --- */
        .page-view { display: none; height: 100%; flex-direction: column; gap: 24px; animation: fadeIn 0.3s ease; }
        .page-view.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* DASHBOARD */
        .dash-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; }
        .stat-card { background: #141414; border: 1px solid #222; border-radius: 8px; padding: 16px; }
        .stat-label { font-size: 11px; color: var(--text-muted); margin-bottom: 4px; }
        .stat-val { font-size: 20px; font-weight: 700; color: var(--text-main); }
        .trend { font-size: 11px; color: var(--c-brand-primary); margin-top: 4px; display: block; transition: color 0.2s; }

        .chart-container {
            flex: 1; background: #141414; border: 1px solid #222; border-radius: 8px;
            position: relative; padding: 20px; display: flex; flex-direction: column;
        }
        .chart-header { display: flex; justify-content: space-between; margin-bottom: 15px; }
        .chart-title { font-size: 13px; color: var(--text-main); font-weight: 600; }
        .status-btn {
            background: rgba(255,255,255,0.05); color: var(--c-brand-primary);
            border: 1px solid var(--c-brand-primary); padding: 4px 10px;
            font-size: 10px; font-weight: 700; border-radius: 4px; text-transform: uppercase; transition: all 0.2s;
        }
        svg { width: 100%; height: 100%; overflow: visible; }
        .chart-line { fill: none; stroke: var(--c-brand-primary); stroke-width: 3; transition: stroke 0.2s; filter: drop-shadow(0 0 5px var(--c-brand-primary)); }

        /* MACHINES */
        .machines-list { display: flex; flex-direction: column; gap: 12px; }
        .machine-row {
            background: #141414; border: 1px solid #222; border-radius: 8px; padding: 16px;
            display: flex; align-items: center; justify-content: space-between;
        }
        .machine-info { display: flex; gap: 12px; align-items: center; }
        .machine-icon { 
            width: 36px; height: 36px; background: rgba(255,255,255,0.05); border-radius: 6px; 
            display: flex; justify-content: center; align-items: center; color: var(--text-muted);
        }
        .machine-name { font-size: 14px; font-weight: 600; color: #fff; display: block; }
        .machine-id { font-size: 11px; color: var(--text-muted); font-family: 'JetBrains Mono'; }
        
        .machine-status { display: flex; align-items: center; gap: 6px; font-size: 12px; font-weight: 600; color: var(--c-brand-primary); }
        .status-indicator { width: 8px; height: 8px; background: var(--c-brand-primary); border-radius: 50%; box-shadow: 0 0 8px var(--c-brand-primary); }
        
        .machine-progress { width: 100px; height: 4px; background: #333; border-radius: 2px; overflow: hidden; margin-left: 20px; }
        .prog-bar { height: 100%; background: var(--c-brand-primary); transition: background 0.2s; }

        /* ANALYTICS */
        .analytics-wrap { background: #141414; border: 1px solid #222; border-radius: 8px; padding: 24px; flex: 1; display: flex; flex-direction: column; }
        .bar-chart-css { display: flex; align-items: flex-end; justify-content: space-between; height: 100%; gap: 10px; margin-top: 20px; }
        .bar-col { flex: 1; background: rgba(255,255,255,0.05); border-radius: 4px 4px 0 0; position: relative; overflow: hidden; }
        .bar-inner { 
            position: absolute; bottom: 0; left: 0; width: 100%; 
            background: var(--c-brand-primary); opacity: 0.8; transition: background 0.2s; 
        }
        .bar-label { text-align: center; margin-top: 8px; font-size: 10px; color: var(--text-muted); }

    </style>
</head>
<body>

    <div class="theming-console">
        
        <div class="config-panel">
            <div class="panel-header">CoCoCo Platform White Label OEM Branding Settings</div>
            
            <div class="form-group">
                <label class="label">Brand Name</label>
                <input type="text" id="brandNameInput" class="input-field" value="Helix Press Systems">
            </div>

            <div class="form-group">
                <label class="label">Primary Color</label>
                <div class="color-picker-row">
                    <input type="color" id="colorPicker" value="#00E5FF">
                    <input type="text" id="hexInput" value="#00E5FF" class="hex-input" maxlength="7">
                </div>
            </div>

            <div class="form-group">
                <label class="label">Logo Upload (Click to change)</label>
                <div class="dropzone" id="logoDropzone">
                    <input type="file" id="logoUploadInput" accept="image/png, image/jpeg, image/svg+xml">
                    <div class="file-badge" id="fileBadge">
                        <svg class="badge-icon" id="badgeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                        <span id="filenameDisplay">logo_v2.svg</span>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="label">Custom Domain</label>
                <input type="text" class="input-field" value="app.helix-press.com">
            </div>
        </div>

        <div class="preview-panel">
            <div class="browser-window">
                <div class="browser-bar">
                    <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
                </div>
                
                <div class="preview-content">
                    <div class="preview-nav">
                        <div class="brand-logo" id="logoContainer">
                            <svg class="brand-icon" id="previewIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path></svg>
                            <span id="logoTextTarget">HELIX PRESS</span>
                        </div>
                        <div class="nav-links">
                            <span class="nav-link active" onclick="switchTab('dashboard', this)">Dashboard</span>
                            <span class="nav-link" onclick="switchTab('machines', this)">Machines</span>
                            <span class="nav-link" onclick="switchTab('analytics', this)">Analytics</span>
                        </div>
                    </div>

                    <div id="view-dashboard" class="page-view active">
                        <div class="dash-grid">
                            <div class="stat-card">
                                <div class="stat-label">Daily Output</div>
                                <div class="stat-val">12,405</div>
                                <span class="trend">▲ +12%</span>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Active Units</div>
                                <div class="stat-val">84/85</div>
                                <span class="trend">● Online</span>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Efficiency</div>
                                <div class="stat-val">94.2%</div>
                                <span class="trend">▲ +2%</span>
                            </div>
                        </div>

                        <div class="chart-container">
                            <div class="chart-header">
                                <span class="chart-title">Production Velocity (Real-time)</span>
                                <div class="status-btn">Live Stream</div>
                            </div>
                            <svg viewBox="0 0 500 150" preserveAspectRatio="none">
                                <defs>
                                    <linearGradient id="brandGradient" x1="0" x2="0" y1="0" y2="1">
                                        <stop id="gradStop1" offset="0%" stop-color="#00E5FF" stop-opacity="0.5"/>
                                        <stop id="gradStop2" offset="100%" stop-color="#00E5FF" stop-opacity="0"/>
                                    </linearGradient>
                                </defs>
                                <path class="chart-fill" d="M0,150 L0,100 C50,100 80,40 150,50 C200,60 250,80 300,70 C350,60 400,30 450,40 L500,20 L500,150 Z" fill="url(#brandGradient)" style="opacity: 0.3;" />
                                <path class="chart-line" d="M0,100 C50,100 80,40 150,50 C200,60 250,80 300,70 C350,60 400,30 450,40 L500,20" />
                            </svg>
                        </div>
                    </div>

                    <div id="view-machines" class="page-view">
                        <div class="chart-header"><span class="chart-title">Connected Fleet Status</span></div>
                        <div class="machines-list">
                            <div class="machine-row">
                                <div class="machine-info">
                                    <div class="machine-icon"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg></div>
                                    <div><span class="machine-name">Heidelberg XL-01</span><span class="machine-id">ID: 8821-X</span></div>
                                </div>
                                <div style="display:flex; align-items:center;">
                                    <div class="machine-status"><div class="status-indicator"></div> RUNNING</div>
                                    <div class="machine-progress"><div class="prog-bar" style="width:75%"></div></div>
                                </div>
                            </div>
                            <div class="machine-row">
                                <div class="machine-info">
                                    <div class="machine-icon"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"></path></svg></div>
                                    <div><span class="machine-name">Cutter Pro 500</span><span class="machine-id">ID: 4402-C</span></div>
                                </div>
                                <div style="display:flex; align-items:center;">
                                    <div class="machine-status"><div class="status-indicator"></div> ACTIVE</div>
                                    <div class="machine-progress"><div class="prog-bar" style="width:40%"></div></div>
                                </div>
                            </div>
                            <div class="machine-row">
                                <div class="machine-info">
                                    <div class="machine-icon"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></div>
                                    <div><span class="machine-name">HP Indigo 10k</span><span class="machine-id">ID: 9910-D</span></div>
                                </div>
                                <div style="display:flex; align-items:center;">
                                    <div class="machine-status" style="color:var(--text-muted);"><div class="status-indicator" style="background:#444; box-shadow:none;"></div> IDLE</div>
                                    <div class="machine-progress"><div class="prog-bar" style="width:0%"></div></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="view-analytics" class="page-view">
                        <div class="analytics-wrap">
                            <div class="chart-header">
                                <span class="chart-title">Weekly Output Performance</span>
                                <div class="status-btn">Export Report</div>
                            </div>
                            <div class="bar-chart-css">
                                <div><div class="bar-col" style="height:120px;"><div class="bar-inner" style="height:60%"></div></div><div class="bar-label">MON</div></div>
                                <div><div class="bar-col" style="height:120px;"><div class="bar-inner" style="height:80%"></div></div><div class="bar-label">TUE</div></div>
                                <div><div class="bar-col" style="height:120px;"><div class="bar-inner" style="height:45%"></div></div><div class="bar-label">WED</div></div>
                                <div><div class="bar-col" style="height:120px;"><div class="bar-inner" style="height:90%"></div></div><div class="bar-label">THU</div></div>
                                <div><div class="bar-col" style="height:120px;"><div class="bar-inner" style="height:70%"></div></div><div class="bar-label">FRI</div></div>
                                <div><div class="bar-col" style="height:120px;"><div class="bar-inner" style="height:30%"></div></div><div class="bar-label">SAT</div></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <script>
        const brandNameInput = document.getElementById('brandNameInput');
        const logoTextTarget = document.getElementById('logoTextTarget');
        const colorPicker = document.getElementById('colorPicker');
        const hexInput = document.getElementById('hexInput');
        const gradStop1 = document.getElementById('gradStop1');
        const gradStop2 = document.getElementById('gradStop2');
        
        const dropzone = document.getElementById('logoDropzone');
        const fileInput = document.getElementById('logoUploadInput');
        const filenameDisplay = document.getElementById('filenameDisplay');
        const logoContainer = document.getElementById('logoContainer');
        const previewIcon = document.getElementById('previewIcon');
        const badgeIcon = document.getElementById('badgeIcon');

        // NAME
        brandNameInput.addEventListener('input', (e) => {
            const val = e.target.value;
            logoTextTarget.textContent = val.trim() === '' ? 'MY BRAND' : val;
        });

        // COLOR
        function updateThemeColor(color) {
            document.documentElement.style.setProperty('--c-brand-primary', color);
            if(gradStop1) gradStop1.setAttribute('stop-color', color);
            if(gradStop2) gradStop2.setAttribute('stop-color', color);
        }

        colorPicker.addEventListener('input', (e) => {
            const color = e.target.value;
            hexInput.value = color.toUpperCase();
            updateThemeColor(color);
        });

        hexInput.addEventListener('input', (e) => {
            let val = e.target.value;
            if (!val.startsWith('#')) val = '#' + val;
            if (/^#[0-9A-F]{6}$/i.test(val)) {
                colorPicker.value = val;
                updateThemeColor(val);
            }
        });

        // LOGO
        dropzone.addEventListener('click', () => fileInput.click());

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                filenameDisplay.textContent = file.name;
                const reader = new FileReader();
                reader.onload = (event) => {
                    const imgUrl = event.target.result;
                    
                    const newBadgeImg = document.createElement('img');
                    newBadgeImg.src = imgUrl;
                    newBadgeImg.className = 'badge-icon';
                    if(badgeIcon.parentNode) badgeIcon.parentNode.replaceChild(newBadgeImg, badgeIcon);

                    const existingImg = logoContainer.querySelector('img.brand-icon');
                    if (existingImg) {
                        existingImg.src = imgUrl;
                    } else {
                        const newImg = document.createElement('img');
                        newImg.src = imgUrl;
                        newImg.className = 'brand-icon'; 
                        if(previewIcon && previewIcon.parentNode) {
                            previewIcon.parentNode.removeChild(previewIcon);
                        }
                        logoContainer.insertBefore(newImg, logoTextTarget);
                    }
                };
                reader.readAsDataURL(file);
            }
        });

        // TABS
        function switchTab(tabId, el) {
            document.querySelectorAll('.page-view').forEach(p => p.classList.remove('active'));
            document.getElementById('view-' + tabId).classList.add('active');
            
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            el.classList.add('active');
        }
    </script>

</body>
</html>